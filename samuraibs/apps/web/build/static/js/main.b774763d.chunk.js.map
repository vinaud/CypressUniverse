{"version":3,"sources":["styles/global.ts","components/ToastContainer/Toast/styles.ts","components/ToastContainer/Toast/index.tsx","components/ToastContainer/styles.ts","components/ToastContainer/index.tsx","hooks/toast.tsx","services/api.ts","hooks/auth.tsx","utils/getValidationErrors.ts","components/Tooltip/styles.ts","components/Tooltip/index.tsx","components/Input/styles.ts","components/Input/index.tsx","components/Button/styles.ts","components/Button/index.tsx","pages/SignIn/styles.ts","pages/SignIn/index.tsx","pages/SignUp/styles.ts","pages/SignUp/index.tsx","pages/Dashboard/styles.ts","pages/Dashboard/index.tsx","pages/ForgotPassword/styles.ts","pages/ForgotPassword/index.tsx","pages/ResetPassword/styles.ts","pages/ResetPassword/index.tsx","pages/Profile/styles.ts","pages/Profile/index.tsx","routes/Route.tsx","routes/index.tsx","hooks/index.tsx","App.tsx","index.tsx","assets/logo.svg","assets/background-sign-in.png","assets/background-sign-up.png"],"names":["createGlobalStyle","toastTypeVariations","info","css","success","error","Container","styled","animated","div","props","type","hasdescription","icons","size","Toast","message","style","removeToast","useToast","useEffect","timer","setTimeout","id","clearTimeout","className","description","title","onClick","ToastContainer","messages","messagesWithTransitions","useTransition","from","right","opacity","enter","leave","map","item","key","ToastContext","createContext","ToastProvider","children","useState","setMessages","addToast","useCallback","toast","uuid","state","filter","Provider","value","context","useContext","Error","api","axios","create","baseURL","process","AuthContext","AuthProvider","token","localStorage","getItem","user","defaults","headers","authorization","JSON","parse","data","setData","signIn","a","email","password","post","response","is_provider","setItem","stringify","signOut","removeItem","updateUser","useAuth","getValidationErrors","err","validationErrors","inner","forEach","path","Tooltip","isErrored","isFocused","isField","Input","name","containerStyle","Icon","icon","rest","inputRef","useRef","setIsFocused","setIsField","useField","fieldName","defaultValue","registerField","handleInputFocus","handleInputBlur","current","ref","data-testid","onFocus","onBlur","color","button","shade","isLoading","Button","loading","disabled","Number","Content","appearFromLeft","keyframes","AnimationContainer","Background","signInBackgroundImg","SignIn","formRef","history","useHistory","handleSubmit","setErrors","schema","Yup","shape","required","validate","abortEarly","push","errors","src","logoImg","alt","onSubmit","FiMail","placeholder","FiLock","to","appearFromRight","signUpBackgroundImg","SignUp","trim","transform","undefined","min","then","catch","FiUser","Header","header","HeaderContent","HeaderProfile","main","Schedule","Section","section","Appointment","Calendar","aside","Dashboard","Date","selectedDate","setSelectedDate","currentMonth","setCurrentMonth","monthAvailability","setMonthAvailability","appointments","setAppointments","handleDateChange","day","modifiers","available","handleMonthChange","month","get","params","year","getFullYear","getMonth","getDate","appointmentsFormatted","appointment","hourFormatted","format","parseISO","date","disableDays","useMemo","monthDay","selectedDateAsText","locale","ptBR","selectedWeekDay","morningAppointments","getHours","afternoonAppointments","handlePast","isPast","avatar_url","isToday","includes","length","avatar","weekdaysShort","fromMonth","disabledDays","daysOfWeek","onMonthChange","selectedDays","onDayClick","months","ForgotPassword","setLoading","ResetPassword","location","useLocation","password_confirmation","oneOf","URLSearchParams","search","res","lighten","AvatarInput","Profile","old_password","when","is","val","otherwise","formData","put","handleAvatarChange","e","target","files","FormData","append","patch","initialData","htmlFor","onChange","marginTop","Route","isPrivate","Component","component","render","pathname","Routes","exact","AppProvider","App","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b774763d.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\n\r\nexport default createGlobalStyle`\r\n  * {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: 0;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  body {\r\n    background: #0E1119;\r\n    color: #f4ede8;\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n\r\n  body, input, button {\r\n    font-family: 'Roboto Slab', serif;\r\n    font-size: 16px;\r\n  }\r\n\r\n  .form-input {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  .alert {\r\n    text-align: left;\r\n    margin: 0px 0px 10px 10px !important;\r\n  }\r\n\r\n  .alert-error {\r\n    color: #c53030 !important;\r\n  }\r\n\r\n  h1, h2, h3, h4, h5, h6, strong {\r\n    font-weight: 500;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .logo {\r\n    width: 200px;\r\n  }\r\n\r\n  .brand {\r\n    margin-top: 35px;\r\n    width: 120px;\r\n  }\r\n\r\n  /* input:-webkit-autofill,\r\n  input:-webkit-autofill:hover,\r\n  input:-webkit-autofill:focus,\r\n  input:-webkit-autofill:active  {\r\n    box-shadow: 0 0 0px 1000px #141a22 inset;\r\n    transition: \"color 9999s ease-out, background-color 9999s ease-out\";\r\n    transition-delay: 9999s;\r\n  } */\r\n`;\r\n","import styled, { css } from 'styled-components';\r\nimport { animated } from 'react-spring';\r\n\r\ninterface ContainerProps {\r\n  type?: 'success' | 'error' | 'info';\r\n  hasdescription: number;\r\n}\r\n\r\nconst toastTypeVariations = {\r\n  info: css`\r\n    background: #ebf8ff;\r\n    color: #3172b7;\r\n  `,\r\n  success: css`\r\n    background: #e6fffa;\r\n    color: #2e656a;\r\n  `,\r\n  error: css`\r\n    background: #fddede;\r\n    color: #c53030;\r\n  `,\r\n};\r\n\r\nexport const Container = styled(animated.div)<ContainerProps>`\r\n  width: 360px;\r\n  position: relative;\r\n  padding: 16px 30px 16px 16px;\r\n  border-radius: 10px;\r\n  box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);\r\n\r\n  display: flex;\r\n\r\n  & + div {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  ${props => toastTypeVariations[props.type || 'info']}\r\n\r\n  > svg {\r\n    margin: 4px 12px 0 0;\r\n  }\r\n\r\n  div {\r\n    flex: 1;\r\n\r\n    p {\r\n      margin-top: 4px;\r\n      font-size: 14px;\r\n      opacity: 0.8;\r\n      line-height: 20px;\r\n    }\r\n  }\r\n\r\n  button {\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 19px;\r\n    opacity: 0.6;\r\n    border: 0;\r\n    background: transparent;\r\n    color: inherit;\r\n  }\r\n\r\n  ${props =>\r\n    !props.hasdescription &&\r\n    css`\r\n      align-items: center;\r\n\r\n      svg {\r\n        margin-top: 0;\r\n      }\r\n    `}\r\n`;\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  FiAlertCircle,\r\n  FiCheckCircle,\r\n  FiInfo,\r\n  FiXCircle,\r\n} from 'react-icons/fi';\r\n\r\nimport { ToastMessage, useToast } from '../../../hooks/toast';\r\nimport { Container } from './styles';\r\n\r\ninterface ToastProps {\r\n  message: ToastMessage;\r\n  style: object;\r\n}\r\n\r\nconst icons = {\r\n  info: <FiInfo size={24} />,\r\n  error: <FiAlertCircle size={24} />,\r\n  success: <FiCheckCircle size={24} />,\r\n};\r\n\r\nconst Toast: React.FC<ToastProps> = ({ message, style }) => {\r\n  const { removeToast } = useToast();\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      removeToast(message.id);\r\n    }, 5000);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [removeToast, message.id]);\r\n\r\n  return (\r\n    <Container\r\n      className=\"toast\"\r\n      type={message.type}\r\n      hasdescription={message.description ? 1 : 0}\r\n      style={style}\r\n    >\r\n      {icons[message.type || 'info']}\r\n\r\n      <div>\r\n        <strong>{message.title}</strong>\r\n        {message.description && <p>{message.description}</p>}\r\n      </div>\r\n\r\n      <button onClick={() => removeToast(message.id)} type=\"button\">\r\n        <FiXCircle size={18} />\r\n      </button>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Toast;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  padding: 30px;\r\n  overflow: hidden;\r\n`;\r\n","import React from 'react';\r\nimport { useTransition } from 'react-spring';\r\n\r\nimport { ToastMessage } from '../../hooks/toast';\r\nimport Toast from './Toast';\r\n\r\nimport { Container } from './styles';\r\n\r\ninterface ToastContainerProps {\r\n  messages: ToastMessage[];\r\n}\r\n\r\nconst ToastContainer: React.FC<ToastContainerProps> = ({ messages }) => {\r\n  const messagesWithTransitions = useTransition(\r\n    messages,\r\n    message => message.id,\r\n    {\r\n      from: { right: '-120%', opacity: 0 },\r\n      enter: { right: '0%', opacity: 1 },\r\n      leave: { right: '-120%', opacity: 0 },\r\n    },\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      {messagesWithTransitions.map(({ item, key, props }) => (\r\n        <Toast key={key} message={item} style={props} />\r\n      ))}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ToastContainer;\r\n","import React, { createContext, useCallback, useContext, useState } from 'react';\r\nimport { uuid } from 'uuidv4';\r\n\r\nimport ToastContainer from '../components/ToastContainer';\r\n\r\nexport interface ToastMessage {\r\n  id: string;\r\n  type?: 'success' | 'error' | 'info';\r\n  title: string;\r\n  description?: string;\r\n}\r\n\r\ninterface ToastContextData {\r\n  addToast(message: Omit<ToastMessage, 'id'>): void;\r\n  removeToast(id: string): void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextData>({} as ToastContextData);\r\n\r\nconst ToastProvider: React.FC = ({ children }) => {\r\n  const [messages, setMessages] = useState<ToastMessage[]>([]);\r\n\r\n  const addToast = useCallback(\r\n    ({ type, title, description }: Omit<ToastMessage, 'id'>) => {\r\n      const id = uuid();\r\n\r\n      const toast = {\r\n        id,\r\n        type,\r\n        title,\r\n        description,\r\n      };\r\n\r\n      setMessages(state => [...state, toast]);\r\n    },\r\n    [],\r\n  );\r\n  const removeToast = useCallback((id: string) => {\r\n    setMessages(state => state.filter(message => message.id !== id));\r\n  }, []);\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ addToast, removeToast }}>\r\n      {children}\r\n      <ToastContainer messages={messages} />\r\n    </ToastContext.Provider>\r\n  );\r\n};\r\n\r\nfunction useToast(): ToastContextData {\r\n  const context = useContext(ToastContext);\r\n\r\n  if (!context) {\r\n    throw new Error('useToast must be used within a ToastProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport { ToastProvider, useToast };\r\n","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n});\r\n\r\nexport default api;\r\n","import React, { createContext, useCallback, useState, useContext } from 'react';\r\nimport { useToast } from '../hooks/toast';\r\nimport api from '../services/api';\r\n\r\ninterface User {\r\n  id: string;\r\n  avatar_url: string;\r\n  name: string;\r\n  email: string;\r\n}\r\n\r\ninterface AuthState {\r\n  token: string;\r\n  user: User;\r\n}\r\n\r\ninterface SignInCredentials {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\ninterface AuthContextData {\r\n  user: User;\r\n  signIn(credentials: SignInCredentials): Promise<void>;\r\n  signOut(): void;\r\n  updateUser(user: User): void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextData>({} as AuthContextData);\r\n\r\nconst AuthProvider: React.FC = ({ children }) => {\r\n\r\n\r\n  const { addToast } = useToast();\r\n\r\n  const [data, setData] = useState<AuthState>(() => {\r\n    const token = localStorage.getItem('@Samurai:token');\r\n    const user = localStorage.getItem('@Samurai:user');\r\n\r\n    if (token && user) {\r\n      api.defaults.headers.authorization = `Bearer ${token}`;\r\n      return { token, user: JSON.parse(user) };\r\n    }\r\n\r\n    return {} as AuthState;\r\n  });\r\n\r\n  const signIn = useCallback(async ({ email, password }) => {\r\n    const response = await api.post('sessions', { email, password });\r\n\r\n    const { token, user } = response.data;\r\n\r\n    if (!user.is_provider) {\r\n      \r\n      addToast({\r\n        type: 'error',\r\n        title: 'Ohh não :(',\r\n        description:\r\n          'Ocorreu um erro ao fazer login, verifique suas credenciais.',\r\n      });\r\n\r\n      return \r\n    }\r\n      \r\n    localStorage.setItem('@Samurai:token', token);\r\n    localStorage.setItem('@Samurai:user', JSON.stringify(user));\r\n\r\n    api.defaults.headers.authorization = `Bearer ${token}`;\r\n\r\n    setData({ token, user });\r\n  }, [addToast]);\r\n\r\n  const signOut = useCallback(() => {\r\n    localStorage.removeItem('@Samurai:token');\r\n    localStorage.removeItem('@Samurai:user');\r\n\r\n    setData({} as AuthState);\r\n  }, []);\r\n\r\n  const updateUser = useCallback(\r\n    (user: User) => {\r\n      localStorage.setItem('@Samurai:user', JSON.stringify(user));\r\n\r\n      setData({\r\n        token: data.token,\r\n        user,\r\n      });\r\n    },\r\n    [setData, data.token],\r\n  );\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ user: data.user, signIn, signOut, updateUser }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nfunction useAuth(): AuthContextData {\r\n  const context = useContext(AuthContext);\r\n\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nexport { AuthProvider, useAuth };\r\n","import { ValidationError } from 'yup';\r\n\r\ninterface Errors {\r\n  [key: string]: string;\r\n}\r\n\r\nexport default function getValidationErrors(err: ValidationError): Errors {\r\n  const validationErrors: Errors = {};\r\n\r\n  err.inner.forEach(error => {\r\n    validationErrors[error.path] = error.message;\r\n  });\r\n\r\n  return validationErrors;\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n\r\n  span {\r\n    width: 160px;\r\n    background: #38B4C7;\r\n    padding: 8px;\r\n    border-radius: 4px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    opacity: 0;\r\n    transition: opacity 0.4s;\r\n    visibility: hidden;\r\n\r\n    position: absolute;\r\n    bottom: calc(100% + 12px);\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n\r\n    color: #312e38;\r\n\r\n    &::before {\r\n      content: '';\r\n      border-style: solid;\r\n      border-color: #38B4C7 transparent;\r\n      border-width: 6px 6px 0 6px;\r\n      bottom: 20px;\r\n      top: 100%;\r\n      position: absolute;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport { Container } from './styles';\r\n\r\ninterface TooltipProps {\r\n  title: string;\r\n  className?: string;\r\n}\r\n\r\nconst Tooltip: React.FC<TooltipProps> = ({\r\n  title,\r\n  className = '',\r\n  children,\r\n}) => {\r\n  return (\r\n    <Container className={className}>\r\n      {children}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Tooltip;\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport Tooltip from '../Tooltip';\r\n\r\ninterface ContainerProps {\r\n  isFocused: boolean;\r\n  isField: boolean;\r\n  isErrored: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  background: #141a22;\r\n  border-radius: 10px;\r\n  padding: 16px;\r\n  width: 100%;\r\n\r\n  border: 2px solid #151924;\r\n  color: #666360;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & + div {\r\n    margin-top: 8px;\r\n  }\r\n\r\n  ${props =>\r\n    props.isErrored &&\r\n    css`\r\n      border-color: #c53030;\r\n    `}\r\n\r\n  ${props =>\r\n    props.isFocused &&\r\n    css`\r\n      color: #38B4C7;\r\n      border-color: #38B4C7;\r\n    `}\r\n\r\n  ${props =>\r\n    props.isField &&\r\n    css`\r\n      color: #38B4C7;\r\n    `}\r\n\r\n  input {\r\n    flex: 1;\r\n    background: transparent;\r\n    border: 0;\r\n    color: #f4ede8;\r\n\r\n    &::placeholder {\r\n      color: #666360;\r\n    }\r\n  }\r\n\r\n  svg {\r\n    margin-right: 16px;\r\n  }\r\n`;\r\n\r\nexport const Error = styled(Tooltip)`\r\n  height: 20px;\r\n  margin-left: 16px;\r\n  svg {\r\n    margin: 0;\r\n  }\r\n\r\n  span {\r\n    background: #c53030;\r\n    color: #f4ede8;\r\n\r\n    &::before {\r\n      border-color: #c53030 transparent;\r\n    }\r\n  }\r\n`;\r\n","import React, {\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n  useCallback,\r\n  InputHTMLAttributes,\r\n} from 'react';\r\nimport { IconBaseProps } from 'react-icons';\r\nimport { FiAlertCircle } from 'react-icons/fi';\r\nimport { useField } from '@unform/core';\r\n\r\nimport { Container, Error } from './styles';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  name: string;\r\n  containerStyle?: React.CSSProperties;\r\n  icon?: React.ComponentType<IconBaseProps>;\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({\r\n  name,\r\n  containerStyle = {},\r\n  icon: Icon,\r\n  ...rest\r\n}) => {\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [isField, setIsField] = useState(false);\r\n  const { fieldName, defaultValue, error, registerField } = useField(name);\r\n\r\n  const handleInputFocus = useCallback(() => {\r\n    setIsFocused(true);\r\n  }, []);\r\n\r\n  const handleInputBlur = useCallback(() => {\r\n    setIsFocused(false);\r\n\r\n    setIsField(!!inputRef.current?.value);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    registerField({\r\n      name: fieldName,\r\n      ref: inputRef.current,\r\n      path: 'value',\r\n    });\r\n  }, [fieldName, registerField]);\r\n\r\n  return (\r\n    <div className=\"form-input\">\r\n      <Container\r\n        style={containerStyle}\r\n        isErrored={!!error}\r\n        isField={isField}\r\n        isFocused={isFocused}\r\n        data-testid=\"input-container\"\r\n      >\r\n        {Icon && <Icon size={20} />}\r\n        <input\r\n          onFocus={handleInputFocus}\r\n          onBlur={handleInputBlur}\r\n          defaultValue={defaultValue}\r\n          ref={inputRef}\r\n          {...rest}\r\n        />\r\n        {error && (\r\n          <Error title={error} className=\"required-error\">\r\n            <FiAlertCircle color=\"c53030\" size={20} />\r\n          </Error>\r\n        )}\r\n      </Container>\r\n\r\n      {error && (\r\n        <div className=\"alert\">\r\n          <small className=\"alert-error\">{error}</small>\r\n        </div>\r\n      )}\r\n\r\n\r\n    </div>\r\n\r\n  );\r\n};\r\nexport default Input;\r\n","import styled from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\ninterface ContainerProps {\r\n  isLoading: number;\r\n}\r\n\r\nexport const Container = styled.button<ContainerProps>`\r\n  background: #38B4C7;\r\n  height: 56px;\r\n  border-radius: 10px;\r\n  border: 0;\r\n  padding: 0 16px;\r\n  color: #312e38;\r\n  width: 100%;\r\n  font-weight: 500;\r\n  margin-top: 16px;\r\n  transition: background-color 0.3s;\r\n\r\n  &:hover {\r\n    background: ${shade(0.2, '#38B4C7')};\r\n  }\r\n\r\n  cursor: ${({ isLoading }) => (isLoading ? 'not-allowed' : 'pointer')};\r\n`;\r\n","import React, { ButtonHTMLAttributes } from 'react';\r\n\r\nimport { Container } from './styles';\r\n\r\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  loading?: boolean;\r\n};\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, loading, ...rest }) => {\r\n  return (\r\n    <Container\r\n      disabled={loading}\r\n      isLoading={Number(loading)}\r\n      type=\"button\"\r\n      {...rest}\r\n    >\r\n      {loading ? 'Carregando...' : children}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nimport signInBackgroundImg from '../../assets/background-sign-in.png';\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n`;\r\n\r\nconst appearFromLeft = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-50px)\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0)\r\n  }\r\n`;\r\n\r\nexport const AnimationContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  animation: ${appearFromLeft} 1s;\r\n\r\n  form {\r\n    margin: 50px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    a {\r\n      color: #f4ede8;\r\n      display: block;\r\n      margin-top: 10px;\r\n      text-decoration: none;\r\n      transition: color 0.3s;\r\n\r\n      &:hover {\r\n        color: ${shade(0.2, '#f4ede8')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #38B4C7;\r\n    display: block;\r\n    margin-top: 24px;\r\n    text-decoration: none;\r\n    transition: color 0.3s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    svg {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#38B4C7')};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background: url(${signInBackgroundImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n","import React, { useRef, useCallback } from 'react';\r\nimport { FiLogIn, FiMail, FiLock } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport { useAuth } from '../../hooks/auth';\r\nimport { useToast } from '../../hooks/toast';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\n\r\nimport Input from '../../components/Input';\r\nimport Button from '../../components/Button';\r\nimport { Container, Content, AnimationContainer, Background } from './styles';\r\n\r\nimport logoImg from '../../assets/logo.svg';\r\n\r\ninterface SignInFormData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst SignIn: React.FC = () => {\r\n  const formRef = useRef<FormHandles>(null);\r\n  const history = useHistory();\r\n\r\n  const { signIn } = useAuth();\r\n  const { addToast } = useToast();\r\n\r\n  const handleSubmit = useCallback(\r\n    async (data: SignInFormData) => {\r\n      try {\r\n        formRef.current?.setErrors({});\r\n\r\n        const schema = Yup.object().shape({\r\n          email: Yup.string()\r\n            .required('E-mail é obrigatório')\r\n            .email('Informe um email válido'),\r\n          password: Yup.string().required('Senha é obrigatória'),\r\n        });\r\n\r\n        await schema.validate(data, { abortEarly: false });\r\n\r\n        await signIn({\r\n          email: data.email,\r\n          password: data.password,\r\n        })\r\n\r\n        history.push('/dashboard');\r\n\r\n      } catch (err) {\r\n        if (err instanceof Yup.ValidationError) {\r\n          const errors = getValidationErrors(err);\r\n\r\n          formRef.current?.setErrors(errors);\r\n          return;\r\n        }\r\n\r\n        addToast({\r\n          type: 'error',\r\n          title: 'Ohh não :(',\r\n          description:\r\n            'Ocorreu um erro ao fazer login, verifique suas credenciais.',\r\n        });\r\n      }\r\n    },\r\n    [signIn, addToast, history],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <AnimationContainer>\r\n          <img src={logoImg} alt=\"Samurai\" className=\"logo\" />\r\n\r\n          <Form ref={formRef} onSubmit={handleSubmit}>\r\n            <h1>Faça seu login</h1>\r\n\r\n            <Input name=\"email\" icon={FiMail} placeholder=\"Seu email\" />\r\n\r\n            <Input\r\n              name=\"password\"\r\n              icon={FiLock}\r\n              type=\"password\"\r\n              placeholder=\"Sua senha secreta\"\r\n            />\r\n\r\n            <Button type=\"submit\">Entrar</Button>\r\n\r\n            <Link to=\"/forgot-password\">Esqueci minha senha</Link>\r\n          </Form>\r\n\r\n          <Link to=\"/signup\">\r\n            <FiLogIn />\r\n            Criar conta\r\n          </Link>\r\n\r\n          {/* <img src={brandImg} alt=\"QAninja\" className=\"brand\" /> */}\r\n        </AnimationContainer>\r\n      </Content>\r\n      <Background />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nimport signUpBackgroundImg from '../../assets/background-sign-up.png';\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n`;\r\n\r\nconst appearFromRight = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(50px)\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0)\r\n  }\r\n`;\r\n\r\nexport const AnimationContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  animation: ${appearFromRight} 1s;\r\n\r\n  form {\r\n    margin: 50px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #38B4C7;\r\n    display: block;\r\n    margin-top: 10px;\r\n    text-decoration: none;\r\n    transition: color 0.3s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    svg {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#38B4C7')};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background: url(${signUpBackgroundImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n","import React, { useCallback, useRef } from 'react';\r\nimport { FiArrowLeft, FiMail, FiUser, FiLock } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport api from '../../services/api';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\n\r\nimport Input from '../../components/Input';\r\nimport Button from '../../components/Button';\r\n\r\nimport { useToast } from '../../hooks/toast';\r\n\r\nimport { Container, Content, AnimationContainer, Background } from './styles';\r\n\r\nimport logoImg from '../../assets/logo.svg';\r\n\r\ninterface SignUpFormData {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  is_provider: boolean;\r\n}\r\n\r\nconst SignUp: React.FC = () => {\r\n  const formRef = useRef<FormHandles>(null);\r\n  const { addToast } = useToast();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = useCallback(\r\n    async (data: SignUpFormData) => {\r\n      try {\r\n        formRef.current?.setErrors({});\r\n\r\n        const schema = Yup.object().shape({\r\n          name: Yup.string().required('Nome é obrigatório'),\r\n          email: Yup.string()\r\n            .required('E-mail é obrigatório')\r\n            .email('Informe um email válido'),\r\n          password: Yup.string().trim().transform(value => value === '' ? undefined : value)\r\n            .required('Senha é obrigatória')\r\n            .min(6, 'Pelo menos 6 caracteres')\r\n        });\r\n\r\n        data.is_provider = true;\r\n\r\n        await schema.validate(data, { abortEarly: false });\r\n\r\n        api.post('/users', data)\r\n          .then((response) => {\r\n            history.push('/');\r\n\r\n            //Agora você pode fazer seu login no Samurai Barbershop!\r\n            //Agora você se tornou um(a) Samurai, faça seu login para ver seus agendamentos!\r\n\r\n            addToast({\r\n              type: 'success',\r\n              title: 'Uhull :)',\r\n              description: 'Agora você se tornou um(a) Samurai, faça seu login para ver seus agendamentos!',\r\n            });\r\n          })\r\n          .catch((error) => {\r\n            if (error.response.data && error.response.data.message === 'Email address already used.') {\r\n              addToast({\r\n                type: 'info',\r\n                title: 'Oops!',\r\n                description: 'Email já cadastrado para outro usuário.',\r\n              });\r\n            }\r\n            // console.log(error.response.data);\r\n            // console.log(error.response.status);\r\n            // console.log(error.response.headers);\r\n          })\r\n\r\n\r\n      } catch (err) {\r\n        if (err instanceof Yup.ValidationError) {\r\n          const errors = getValidationErrors(err);\r\n\r\n          formRef.current?.setErrors(errors);\r\n          return;\r\n        }\r\n\r\n        addToast({\r\n          type: 'error',\r\n          title: 'Ohh não :(',\r\n          description: 'Ocorreu um erro ao fazer cadastro, tente novamente.',\r\n        });\r\n      }\r\n    },\r\n    [addToast, history],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <Background />\r\n      <Content>\r\n        <AnimationContainer>\r\n          <img src={logoImg} alt=\"Samurai\" className=\"logo\" />\r\n\r\n\r\n          <Form ref={formRef} onSubmit={handleSubmit} >\r\n            <h1>Faça seu cadastro</h1>\r\n\r\n            <Input name=\"name\" icon={FiUser} placeholder=\"Nome completo\" />\r\n\r\n            <Input name=\"email\" icon={FiMail} placeholder=\"Seu melhor email\" />\r\n\r\n            <Input\r\n              name=\"password\"\r\n              icon={FiLock}\r\n              type=\"password\"\r\n              placeholder=\"Sua senha secreta\"\r\n            />\r\n\r\n            <Button type=\"submit\">Cadastrar</Button>\r\n          </Form>\r\n\r\n\r\n          <Link to=\"/\">\r\n            <FiArrowLeft />\r\n            Voltar para login\r\n          </Link>\r\n        </AnimationContainer>\r\n      </Content>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import styled from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nexport const Container = styled.div``;\r\n\r\nexport const Header = styled.header`\r\n  padding: 32px 0;\r\n  background: #141a22;\r\n`;\r\n\r\nexport const HeaderContent = styled.div`\r\n  max-width: 1120px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  > img {\r\n    height: 120px;\r\n  }\r\n\r\n  button {\r\n    margin-left: auto;\r\n    background: none;\r\n    border: none;\r\n\r\n    svg {\r\n      color: #999591;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const HeaderProfile = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 80px;\r\n\r\n  img {\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 16px;\r\n    line-height: 24px;\r\n\r\n    span {\r\n      color: #f4ede8;\r\n    }\r\n\r\n    a {\r\n      text-decoration: none;\r\n      color: #38B4C7;\r\n\r\n      transition: opacity 0.3s;\r\n      &:hover {\r\n        opacity: 0.8;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Content = styled.main`\r\n  max-width: 1120px;\r\n  margin: 64px auto;\r\n  display: flex;\r\n`;\r\n\r\nexport const Schedule = styled.div`\r\n  flex: 1;\r\n  margin-right: 120px;\r\n\r\n  h1 {\r\n    font-size: 36px;\r\n  }\r\n\r\n  p {\r\n    margin-top: 8px;\r\n    color: #38B4C7;\r\n    display: flex;\r\n    align-items: center;\r\n    font-weight: 500;\r\n\r\n    span {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n\r\n    span + span::before {\r\n      content: '';\r\n      width: 1px;\r\n      height: 12px;\r\n      background: #38B4C7;\r\n      margin: 0 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NextAppointment = styled.div`\r\n  margin-top: 64px;\r\n\r\n  > strong {\r\n    color: #999591;\r\n    font-size: 20px;\r\n    font-weight: normal;\r\n  }\r\n\r\n  div {\r\n    background: #141a22;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 16px 24px;\r\n    border-radius: 10px;\r\n    margin-top: 24px;\r\n    position: relative;\r\n\r\n    &::before {\r\n      content: '';\r\n      position: absolute;\r\n      height: 80%;\r\n      width: 2px;\r\n      border-radius: 0 10px 10px 0;\r\n      left: 0;\r\n      top: 10%;\r\n      background: #38B4C7;\r\n    }\r\n\r\n    img {\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 50%;\r\n    }\r\n\r\n    strong {\r\n      margin-left: 24px;\r\n      font-size: 24px;\r\n      color: #f4ede8;\r\n    }\r\n\r\n    span {\r\n      margin-left: auto;\r\n      display: flex;\r\n      align-items: center;\r\n      color: #999591;\r\n\r\n      svg {\r\n        color: #38B4C7;\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Section = styled.section`\r\n  margin-top: 48px;\r\n\r\n  > strong {\r\n    color: #999591;\r\n    font-size: 20px;\r\n    line-height: 26px;\r\n    border-bottom: 1px solid #141a22;\r\n    display: block;\r\n    padding-bottom: 16px;\r\n    margin-bottom: 16px;\r\n  }\r\n\r\n  > p {\r\n    color: #999591;\r\n  }\r\n`;\r\n\r\nexport const Appointment = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & + div {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .past-appointment {\r\n    text-decoration:line-through\r\n  }\r\n\r\n  span {\r\n    margin-left: auto;\r\n    display: flex;\r\n    align-items: center;\r\n    color: #f4ede8;\r\n    width: 72px;\r\n\r\n    svg {\r\n      color: #38B4C7;\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n\r\n  div {\r\n    flex: 1;\r\n    background: #141a22;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 16px 24px;\r\n    border-radius: 10px;\r\n    margin-left: 24px;\r\n\r\n    img {\r\n      width: 56px;\r\n      height: 56px;\r\n      border-radius: 50%;\r\n    }\r\n\r\n    strong {\r\n      margin-left: 24px;\r\n      font-size: 20px;\r\n      color: #f4ede8;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Calendar = styled.aside`\r\n  width: 380px;\r\n\r\n  .DayPicker {\r\n    background: #141a22;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .DayPicker-wrapper {\r\n    padding-bottom: 0;\r\n  }\r\n\r\n  .DayPicker,\r\n  .DayPicker-Month {\r\n    width: 100%;\r\n  }\r\n\r\n  .DayPicker-Month {\r\n    border-collapse: separate;\r\n    border-spacing: 8px;\r\n    margin: 16px;\r\n  }\r\n\r\n  .DayPicker-Day {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n\r\n  .DayPicker-Day--available:not(.DayPicker-Day--outside) {\r\n    background: #19212b;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n  }\r\n\r\n  .DayPicker:not(.DayPicker--interactionDisabled)\r\n    .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\r\n    background: ${shade(0.2, '#141a22')};\r\n  }\r\n\r\n  .DayPicker-Day--today {\r\n    font-weight: normal;\r\n  }\r\n\r\n  .DayPicker-Day--disabled {\r\n    color: #666360 !important;\r\n    background: transparent !important;\r\n  }\r\n\r\n  .DayPicker-Day--selected {\r\n    background: #38B4C7 !important;\r\n    border-radius: 10px;\r\n    color: #141a22 !important;\r\n  }\r\n`;\r\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\r\nimport { isToday, format, parseISO, isPast } from 'date-fns';\r\nimport ptBR from 'date-fns/locale/pt-BR';\r\nimport DayPicker, { DayModifiers } from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\nimport { FiPower, FiClock } from 'react-icons/fi';\r\nimport { Link } from 'react-router-dom';\r\nimport * as S from './styles';\r\n\r\nimport logoImg from '../../assets/logo.svg';\r\nimport { useAuth } from '../../hooks/auth';\r\nimport api from '../../services/api';\r\n\r\ninterface MonthAvailabilityItem {\r\n  day: number;\r\n  available: boolean;\r\n}\r\n\r\ninterface Appointment {\r\n  id: string;\r\n  date: string;\r\n  hourFormatted: string;\r\n  user: {\r\n    name: string;\r\n    avatar: string;\r\n  };\r\n}\r\n\r\n// interface WorkDays {\r\n//   days_on: Array<number>;\r\n//   days_off: Array<number>;\r\n// }\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const { signOut, user } = useAuth();\r\n\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [monthAvailability, setMonthAvailability] = useState<\r\n    MonthAvailabilityItem[]\r\n  >([]);\r\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\r\n  // const [workDays, setWorkDays] = useState<WorkDays>();\r\n\r\n  const handleDateChange = useCallback((day: Date, modifiers: DayModifiers) => {\r\n    if (modifiers.available && !modifiers.disabled) {\r\n      setSelectedDate(day);\r\n    } else {\r\n      //POG\r\n      setSelectedDate(day);\r\n    }\r\n  }, []);\r\n\r\n  const handleMonthChange = useCallback((month: Date) => {\r\n    setCurrentMonth(month);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(`/providers/${user.id}/month-availability`, {\r\n        params: {\r\n          year: currentMonth.getFullYear(),\r\n          month: currentMonth.getMonth() + 1,\r\n        },\r\n      })\r\n      .then(response => setMonthAvailability(response.data));\r\n  }, [currentMonth, user.id]);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get<Appointment[]>('/appointments/me', {\r\n        params: {\r\n          year: selectedDate.getFullYear(),\r\n          month: selectedDate.getMonth() + 1,\r\n          day: selectedDate.getDate(),\r\n        },\r\n      })\r\n      .then(response => {\r\n        const appointmentsFormatted = response.data.map(appointment => ({\r\n          ...appointment,\r\n          hourFormatted: format(parseISO(appointment.date), 'HH:mm'),\r\n        }));\r\n\r\n        setAppointments(appointmentsFormatted);\r\n      });\r\n\r\n\r\n    // api.get<WorkDays>('/appointments/days')\r\n    //   .then(response => {\r\n    //     // console.log(response.data)\r\n    //     setWorkDays(response.data);\r\n    //   })\r\n\r\n  }, [selectedDate]);\r\n\r\n  const disableDays = useMemo(() => {\r\n    return monthAvailability\r\n      .filter(monthDay => monthDay.available === false)\r\n      .map(monthDay => {\r\n        const year = currentMonth.getFullYear();\r\n        const month = currentMonth.getMonth();\r\n\r\n        return new Date(year, month, monthDay.day);\r\n      });\r\n  }, [currentMonth, monthAvailability]);\r\n\r\n  const selectedDateAsText = useMemo(() => {\r\n    return format(selectedDate, \"'Dia' dd 'de' MMMM\", { locale: ptBR });\r\n  }, [selectedDate]);\r\n\r\n  const selectedWeekDay = useMemo(() => {\r\n    return format(selectedDate, 'cccc', { locale: ptBR });\r\n  }, [selectedDate]);\r\n\r\n  const morningAppointments = useMemo(() => {\r\n    return appointments.filter(appointment => {\r\n      return parseISO(appointment.date).getHours() < 12;\r\n    });\r\n  }, [appointments]);\r\n\r\n  const afternoonAppointments = useMemo(() => {\r\n    return appointments.filter(appointment => {\r\n      return parseISO(appointment.date).getHours() >= 12;\r\n    });\r\n  }, [appointments]);\r\n\r\n  const handlePast = (date: any) => {\r\n    return isPast(parseISO(date)) ? 'past-appointment' : 'appointment'\r\n  }\r\n\r\n  // const nextAppointment = useMemo(() => {\r\n  //   return appointments.find(appointment =>\r\n  //     isAfter(parseISO(appointment.date), new Date()),\r\n  //   );\r\n  // }, [appointments]);\r\n\r\n  // const pastAppointments = (date: any) => {\r\n  //   console.log(isPast(parseISO(date))\r\n  // },\r\n\r\n  return (\r\n    <S.Container>\r\n      <S.Header>\r\n        <S.HeaderContent>\r\n          <img src={logoImg} alt=\"Logo Samurai\" />\r\n\r\n          <S.HeaderProfile>\r\n            <img\r\n              src={\r\n                user?.avatar_url ||\r\n                `https://avatars.dicebear.com/api/initials/${user?.name}.svg`\r\n              }\r\n              alt={user.name}\r\n            />\r\n\r\n            <div>\r\n              <span>Bem-vindo,</span>\r\n              <Link to=\"/profile\">\r\n                <strong>{user.name}</strong>\r\n              </Link>\r\n            </div>\r\n          </S.HeaderProfile>\r\n\r\n          <button type=\"button\" onClick={signOut}>\r\n            <FiPower size={20} color=\"#ed565e\" />\r\n          </button>\r\n        </S.HeaderContent>\r\n      </S.Header>\r\n\r\n      <S.Content>\r\n        <S.Schedule>\r\n          <h1>Horários agendados</h1>\r\n          <p>\r\n            {isToday(selectedDate) && <span>Hoje</span>}\r\n            <span>{selectedDateAsText}</span>\r\n            {\r\n              ['sábado', 'domingo'].includes(selectedWeekDay) ?\r\n                <span>{selectedWeekDay}</span>\r\n                :\r\n                <span>{`${selectedWeekDay}-feira`}</span>\r\n            }\r\n          </p>\r\n\r\n          {/* {isToday(selectedDate) && nextAppointment && (\r\n            <S.NextAppointment>\r\n              <strong>Atendimento a seguir</strong>\r\n              <div>\r\n                <img\r\n                  src={\r\n                    nextAppointment.user.avatar_url ||\r\n                    `https://avatars.dicebear.com/api/initials/${nextAppointment.user?.name}.svg`\r\n                  }\r\n                  alt={nextAppointment.user.name}\r\n                />\r\n\r\n                <strong>{nextAppointment.user.name}</strong>\r\n                <span>\r\n                  <FiClock size={24} />\r\n                  {nextAppointment.hourFormatted}\r\n                </span>\r\n              </div>\r\n            </S.NextAppointment>\r\n          )} */}\r\n\r\n          <S.Section>\r\n            <strong>Manhã</strong>\r\n\r\n            {morningAppointments.length === 0 && (\r\n              <p>Nenhum agendamento neste período</p>\r\n            )}\r\n\r\n            {morningAppointments.map(appointment => (\r\n              <S.Appointment key={appointment.id}>\r\n\r\n                <span className={handlePast(appointment.date)}>\r\n                  <FiClock size={20} />\r\n                  {appointment.hourFormatted}\r\n                </span>\r\n\r\n                <div>\r\n                  {\r\n                    appointment.user.avatar ?\r\n                      <img\r\n                        src={\r\n                          `${process.env.REACT_APP_API_URL}/files/${appointment.user.avatar}`\r\n                        }\r\n                        alt={appointment.user.name}\r\n                      />\r\n                      :\r\n                      <img\r\n                        src={\r\n                          `https://avatars.dicebear.com/api/initials/${appointment.user?.name}.svg`\r\n                        }\r\n                        alt={appointment.user.name}\r\n                      />\r\n                  }\r\n                  <strong className={handlePast(appointment.date)}>{appointment.user.name}</strong>\r\n                </div>\r\n              </S.Appointment>\r\n            ))}\r\n          </S.Section>\r\n          <S.Section>\r\n            <strong>Tarde</strong>\r\n\r\n            {afternoonAppointments.length === 0 && (\r\n              <p>Nenhum agendamento neste período</p>\r\n            )}\r\n\r\n            {afternoonAppointments.map(appointment => (\r\n              <S.Appointment key={appointment.id}>\r\n                <span className={handlePast(appointment.date)}>\r\n                  <FiClock size={20} />\r\n                  {appointment.hourFormatted}\r\n                </span>\r\n\r\n                <div>\r\n                  {\r\n                    appointment.user.avatar ?\r\n                      <img\r\n                        src={\r\n                          `${process.env.REACT_APP_API_URL}/files/${appointment.user.avatar}`\r\n                        }\r\n                        alt={appointment.user.name}\r\n                      />\r\n                      :\r\n                      <img\r\n                        src={\r\n                          `https://avatars.dicebear.com/api/initials/${appointment.user?.name}.svg`\r\n                        }\r\n                        alt={appointment.user.name}\r\n                      />\r\n                  }\r\n                  <strong className={handlePast(appointment.date)}>{appointment.user.name}</strong>\r\n                </div>\r\n              </S.Appointment>\r\n            ))}\r\n          </S.Section>\r\n        </S.Schedule>\r\n        <S.Calendar>\r\n          <DayPicker\r\n            weekdaysShort={['D', 'S', 'T', 'Q', 'Q', 'S', 'S']}\r\n            fromMonth={new Date()}\r\n            disabledDays={[{ daysOfWeek: [] }, ...disableDays]}\r\n            modifiers={{\r\n              available: { daysOfWeek: [0, 1, 2, 3, 4, 5, 6] },\r\n            }}\r\n            onMonthChange={handleMonthChange}\r\n            selectedDays={selectedDate}\r\n            onDayClick={handleDateChange}\r\n            months={[\r\n              'Janeiro',\r\n              'Fevereiro',\r\n              'Março',\r\n              'Abril',\r\n              'Maio',\r\n              'Junho',\r\n              'Julho',\r\n              'Agosto',\r\n              'Setembro',\r\n              'Outubro',\r\n              'Novembro',\r\n              'Dezembro',\r\n            ]}\r\n          />\r\n        </S.Calendar>\r\n      </S.Content>\r\n    </S.Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nimport signInBackgroundImg from '../../assets/background-sign-in.png';\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n`;\r\n\r\nconst appearFromLeft = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-50px)\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0)\r\n  }\r\n`;\r\n\r\nexport const AnimationContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  animation: ${appearFromLeft} 1s;\r\n\r\n  form {\r\n    margin: 50px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    a {\r\n      color: #f4ede8;\r\n      display: block;\r\n      margin-top: 10px;\r\n      text-decoration: none;\r\n      transition: color 0.3s;\r\n\r\n      &:hover {\r\n        color: ${shade(0.2, '#f4ede8')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #38B4C7;\r\n    display: block;\r\n    margin-top: 24px;\r\n    text-decoration: none;\r\n    transition: color 0.3s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    svg {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#38B4C7')};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background: url(${signInBackgroundImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n","import React, { useRef, useCallback, useState } from 'react';\r\nimport { FiLogIn, FiMail } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useToast } from '../../hooks/toast';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\n\r\nimport Input from '../../components/Input';\r\nimport Button from '../../components/Button';\r\nimport { Container, Content, AnimationContainer, Background } from './styles';\r\n\r\nimport logoImg from '../../assets/logo.svg';\r\nimport api from '../../services/api';\r\n\r\ninterface ForgotPasswordFormData {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nconst ForgotPassword: React.FC = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const formRef = useRef<FormHandles>(null);\r\n  // const history = useHistory();\r\n\r\n  const { addToast } = useToast();\r\n\r\n  const handleSubmit = useCallback(\r\n    async (data: ForgotPasswordFormData) => {\r\n      try {\r\n        setLoading(true);\r\n\r\n        formRef.current?.setErrors({});\r\n\r\n        const schema = Yup.object().shape({\r\n          email: Yup.string()\r\n            .required('E-mail é obrigatório')\r\n            .email('Informe um email válido')\r\n        });\r\n\r\n        await schema.validate(data, { abortEarly: false });\r\n\r\n        await api.post('/password/forgot', {\r\n          email: data.email,\r\n        });\r\n\r\n        addToast({\r\n          type: 'success',\r\n          title: 'E-mail de recuperação enviado',\r\n          description:\r\n            'Enviamos um e-mail para confirmar a recuperação de senha, cheque sua caixa de entrada.',\r\n        });\r\n      } catch (err) {\r\n        if (err instanceof Yup.ValidationError) {\r\n          const errors = getValidationErrors(err);\r\n\r\n          formRef.current?.setErrors(errors);\r\n          return;\r\n        }\r\n\r\n        addToast({\r\n          type: 'error',\r\n          title: 'Erro na recuperação de senha',\r\n          description:\r\n            'Ocorreu um erro ao tentar realizar a recuperação de senha',\r\n        });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    [addToast],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <AnimationContainer>\r\n          <img src={logoImg} alt=\"Samurai\" className=\"logo\" />\r\n\r\n          <Form ref={formRef} onSubmit={handleSubmit}>\r\n            <h1>Recuperar senha</h1>\r\n\r\n            <Input name=\"email\" icon={FiMail} placeholder=\"E-mail\" />\r\n\r\n            <Button loading={loading} type=\"submit\">\r\n              Recuperar\r\n            </Button>\r\n          </Form>\r\n\r\n          <Link to=\"/\">\r\n            <FiLogIn />\r\n            Voltar ao login\r\n          </Link>\r\n        </AnimationContainer>\r\n      </Content>\r\n      <Background />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { shade } from 'polished';\r\n\r\nimport signInBackgroundImg from '../../assets/background-sign-in.png';\r\n\r\nexport const Container = styled.div`\r\n  height: 100vh;\r\n\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n`;\r\n\r\nconst appearFromLeft = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateX(-50px)\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateX(0)\r\n  }\r\n`;\r\n\r\nexport const AnimationContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  animation: ${appearFromLeft} 1s;\r\n\r\n  form {\r\n    margin: 50px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    a {\r\n      color: #f4ede8;\r\n      display: block;\r\n      margin-top: 10px;\r\n      text-decoration: none;\r\n      transition: color 0.3s;\r\n\r\n      &:hover {\r\n        color: ${shade(0.2, '#f4ede8')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #38B4C7;\r\n    display: block;\r\n    margin-top: 24px;\r\n    text-decoration: none;\r\n    transition: color 0.3s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    svg {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#38B4C7')};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background: url(${signInBackgroundImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n","import React, { useRef, useCallback } from 'react';\r\nimport { FiLock } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport { useToast } from '../../hooks/toast';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\n\r\nimport Input from '../../components/Input';\r\nimport Button from '../../components/Button';\r\nimport { Container, Content, AnimationContainer, Background } from './styles';\r\n\r\nimport logoImg from '../../assets/logo.svg';\r\nimport api from '../../services/api';\r\n\r\ninterface ResetPasswordFormData {\r\n  password: string;\r\n  password_confirmation: string;\r\n}\r\n\r\nconst ResetPassword: React.FC = () => {\r\n  const formRef = useRef<FormHandles>(null);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const { addToast } = useToast();\r\n\r\n  const handleSubmit = useCallback(\r\n    async (data: ResetPasswordFormData) => {\r\n      try {\r\n        formRef.current?.setErrors({});\r\n\r\n        const schema = Yup.object().shape({\r\n          password: Yup.string().required('Senha é obrigatória'),\r\n          password_confirmation: Yup.string().oneOf(\r\n            [Yup.ref('password'), null],\r\n            'Confirmação incorreta',\r\n          ),\r\n        });\r\n\r\n        await schema.validate(data, { abortEarly: false });\r\n\r\n        const { password, password_confirmation } = data;\r\n        const token = new URLSearchParams(location.search).get('token');\r\n\r\n        if (!token) {\r\n          throw new Error();\r\n        }\r\n\r\n        await api.post('/password/reset', {\r\n          password,\r\n          password_confirmation,\r\n          token,\r\n        }).then((res)=>{\r\n\r\n          addToast({\r\n            type: 'success',\r\n            title: 'Tudo certo!',\r\n            description: 'Agora você já pode logar com a sua nova senha secreta.',\r\n          });\r\n\r\n          history.push('/');\r\n        }).catch(error => {\r\n          if (error.response.data && error.response.data.message === 'Token expired') {\r\n            addToast({\r\n              type: 'error',\r\n              title: 'Oops!',\r\n              description: 'Tempo egotado. Por favor, faça outra solicitação de recuperação de senha.',\r\n            });\r\n          }\r\n\r\n          if (error.response.data && error.response.data.message === 'User token does not exists') {\r\n            addToast({\r\n              type: 'error',\r\n              title: 'Oops!',\r\n              description: 'Por favor, faça outra solicitação de recuperação de senha.',\r\n            });\r\n          }\r\n        })\r\n\r\n      } catch (error) {\r\n        if (error instanceof Yup.ValidationError) {\r\n          const errors = getValidationErrors(error);\r\n\r\n          formRef.current?.setErrors(errors);\r\n          return;\r\n        }\r\n\r\n        addToast({\r\n          type: 'error',\r\n          title: 'Erro ao resetar senha',\r\n          description:\r\n            'Ocorreu um erro ao resetar sua senha, tente novamente.',\r\n        });\r\n      }\r\n    },\r\n    [addToast, history, location.search],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <AnimationContainer>\r\n          <img src={logoImg} alt=\"Samurai\" className=\"logo\" />\r\n\r\n          <Form ref={formRef} onSubmit={handleSubmit}>\r\n            <h1>Resetar senha</h1>\r\n\r\n            <Input\r\n              name=\"password\"\r\n              icon={FiLock}\r\n              type=\"password\"\r\n              placeholder=\"Nova senha\"\r\n            />\r\n\r\n            <Input\r\n              name=\"password_confirmation\"\r\n              icon={FiLock}\r\n              type=\"password\"\r\n              placeholder=\"Confirmação da senha\"\r\n            />\r\n\r\n            <Button type=\"submit\">Alterar senha</Button>\r\n          </Form>\r\n        </AnimationContainer>\r\n      </Content>\r\n      <Background />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","import styled from 'styled-components';\r\nimport { shade, lighten } from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  > header {\r\n    height: 144px;\r\n    background: #141a22;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    div {\r\n      width: 100%;\r\n      max-width: 1120px;\r\n      margin: 0 auto;\r\n\r\n      svg {\r\n        color: #999591;\r\n        transition: color 0.3s;\r\n      }\r\n\r\n      a:hover {\r\n        svg {\r\n          color: ${lighten(0.2, '#999591')};\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: -176px auto 0;\r\n\r\n  width: 100%;\r\n\r\n  form {\r\n    margin: 80px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n      font-size: 20px;\r\n      text-align: left;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const AvatarInput = styled.div`\r\n  position: relative;\r\n\r\n  margin-bottom: 32px;\r\n  align-self: center;\r\n\r\n  img {\r\n    width: 186px;\r\n    height: 186px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  label {\r\n    position: absolute;\r\n    width: 48px;\r\n    height: 48px;\r\n    background: #38B4C7;\r\n    border: none;\r\n    border-radius: 50%;\r\n    right: 0;\r\n    bottom: 0;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    transition: background-color 0.3s;\r\n    cursor: pointer;\r\n\r\n    input {\r\n      display: none;\r\n    }\r\n\r\n    &:hover {\r\n      background: ${shade(0.2, '#38B4C7')};\r\n    }\r\n\r\n    svg {\r\n      color: #312e38;\r\n    }\r\n  }\r\n`;\r\n","import React, { useCallback, useRef, ChangeEvent } from 'react';\r\nimport { FiMail, FiUser, FiLock, FiCamera, FiArrowLeft } from 'react-icons/fi';\r\nimport { FormHandles } from '@unform/core';\r\nimport { Form } from '@unform/web';\r\nimport * as Yup from 'yup';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nimport api from '../../services/api';\r\nimport getValidationErrors from '../../utils/getValidationErrors';\r\n\r\nimport Input from '../../components/Input';\r\nimport Button from '../../components/Button';\r\n\r\nimport { useToast } from '../../hooks/toast';\r\n\r\nimport { Container, Content, AvatarInput } from './styles';\r\nimport { useAuth } from '../../hooks/auth';\r\n\r\ninterface ProfileFormData {\r\n  name: string;\r\n  email: string;\r\n  old_password: string;\r\n  password: string;\r\n  password_confirmation: string;\r\n}\r\n\r\nconst Profile: React.FC = () => {\r\n  const formRef = useRef<FormHandles>(null);\r\n  const { addToast } = useToast();\r\n  const history = useHistory();\r\n\r\n  const { user, updateUser } = useAuth();\r\n\r\n  const handleSubmit = useCallback(\r\n    async (data: ProfileFormData) => {\r\n      try {\r\n        formRef.current?.setErrors({});\r\n\r\n        const schema = Yup.object().shape({\r\n          name: Yup.string().required('Nome é obrigatório'),\r\n          email: Yup.string()\r\n            .required('E-mail é obrigatório')\r\n            .email('Digite um e-mail válido'),\r\n          old_password: Yup.string(),\r\n          password: Yup.string().when('old_password', {\r\n            is: val => !!val.length,\r\n            then: Yup.string()\r\n              .min(6, 'No mínimo 6 dígitos')\r\n              .required('Campo obrigatório'),\r\n            otherwise: Yup.string(),\r\n          }),\r\n          password_confirmation: Yup.string()\r\n            .when('old_password', {\r\n              is: val => !!val.length,\r\n              then: Yup.string().required('Campo obrigatório'),\r\n              otherwise: Yup.string(),\r\n            })\r\n            .oneOf([Yup.ref('password'), null], 'Confirmação incorreta'),\r\n        });\r\n\r\n        await schema.validate(data, { abortEarly: false });\r\n\r\n        const {\r\n          name,\r\n          email,\r\n          old_password,\r\n          password,\r\n          password_confirmation,\r\n        } = data;\r\n\r\n        const formData = {\r\n          name,\r\n          email,\r\n          ...(old_password\r\n            ? {\r\n                old_password,\r\n                password,\r\n                password_confirmation,\r\n              }\r\n            : {}),\r\n        };\r\n\r\n        api.put('/profile', formData)\r\n          .then(res => {\r\n            updateUser(res.data);\r\n\r\n            history.push('/dashboard');\r\n\r\n            addToast({\r\n              type: 'success',\r\n              title: 'Perfil atualizado!',\r\n              description:\r\n                'Suas informações do perfil foram atualizadas com sucesso!',\r\n            });\r\n\r\n          }).catch(error => {\r\n            if (error.response.data && error.response.data.message === 'Old password does not match') {\r\n              addToast({\r\n                type: 'error',\r\n                title: 'Oops!',\r\n                description: 'A senha atual está incorreta :/',\r\n              });\r\n            }\r\n          })\r\n      } catch (err) {\r\n        if (err instanceof Yup.ValidationError) {\r\n          const errors = getValidationErrors(err);\r\n\r\n          formRef.current?.setErrors(errors);\r\n          return;\r\n        }\r\n\r\n        addToast({\r\n          type: 'error',\r\n          title: 'Erro na atualização',\r\n          description:\r\n            'Ocorreu um erro ao atualizar o perfil, tente novamente.',\r\n        });\r\n      }\r\n    },\r\n    [addToast, history, updateUser],\r\n  );\r\n\r\n  const handleAvatarChange = useCallback(\r\n    (e: ChangeEvent<HTMLInputElement>) => {\r\n      if (e.target.files) {\r\n        const data = new FormData();\r\n\r\n        data.append('avatar', e.target.files[0]);\r\n\r\n        api.patch('/users/avatar', data).then(response => {\r\n          updateUser(response.data);\r\n\r\n          addToast({\r\n            type: 'success',\r\n            title: 'Avatar atualizado',\r\n          });\r\n        });\r\n      }\r\n    },\r\n    [addToast, updateUser],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <header>\r\n        <div>\r\n          <Link to=\"/dashboard\">\r\n            <FiArrowLeft size={32} />\r\n          </Link>\r\n        </div>\r\n      </header>\r\n      <Content>\r\n        <Form\r\n          ref={formRef}\r\n          initialData={{ name: user.name, email: user.email }}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <AvatarInput>\r\n            <img\r\n              src={\r\n                user.avatar_url ||\r\n                `https://avatars.dicebear.com/api/initials/${user?.name}.svg`\r\n              }\r\n              alt={user.name}\r\n            />\r\n            <label htmlFor=\"avatar\">\r\n              <FiCamera size={20} />\r\n              <input\r\n                data-testid=\"input-file\"\r\n                type=\"file\"\r\n                id=\"avatar\"\r\n                onChange={handleAvatarChange}\r\n              />\r\n            </label>\r\n          </AvatarInput>\r\n\r\n          <h1>Meu Perfil</h1>\r\n\r\n          <Input name=\"name\" icon={FiUser} placeholder=\"Nome\" />\r\n\r\n          <Input name=\"email\" icon={FiMail} placeholder=\"E-mail\" />\r\n\r\n          <Input\r\n            containerStyle={{ marginTop: 24 }}\r\n            name=\"old_password\"\r\n            icon={FiLock}\r\n            type=\"password\"\r\n            placeholder=\"Senha atual\"\r\n          />\r\n          <Input\r\n            name=\"password\"\r\n            icon={FiLock}\r\n            type=\"password\"\r\n            placeholder=\"Nova senha\"\r\n          />\r\n          <Input\r\n            name=\"password_confirmation\"\r\n            icon={FiLock}\r\n            type=\"password\"\r\n            placeholder=\"Confirmar senha\"\r\n          />\r\n\r\n          <Button type=\"submit\">Confirmar mudanças</Button>\r\n        </Form>\r\n      </Content>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport {\r\n  RouteProps as ReactDOMRouteProps,\r\n  Route as ReactDOMRoute,\r\n  Redirect,\r\n} from 'react-router-dom';\r\n\r\n// import { Container } from './styles';\r\nimport { useAuth } from '../hooks/auth';\r\n\r\ninterface RouteProps extends ReactDOMRouteProps {\r\n  isPrivate?: boolean;\r\n  component: React.ComponentType;\r\n}\r\n\r\nconst Route: React.FC<RouteProps> = ({\r\n  isPrivate = false,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  const { user } = useAuth();\r\n\r\n  return (\r\n    <ReactDOMRoute\r\n      {...rest}\r\n      render={({ location }) => {\r\n        return isPrivate === !!user ? (\r\n          <Component />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: isPrivate ? '/' : '/dashboard',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Route;\r\n","import React from 'react';\r\nimport { Switch } from 'react-router-dom';\r\n\r\nimport SignIn from '../pages/SignIn';\r\nimport SignUp from '../pages/SignUp';\r\nimport Dashboard from '../pages/Dashboard';\r\nimport ForgotPassword from '../pages/ForgotPassword';\r\nimport ResetPassword from '../pages/ResetPassword';\r\nimport Profile from '../pages/Profile';\r\n\r\nimport Route from './Route';\r\n\r\nconst Routes: React.FC = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact component={SignIn} />\r\n    <Route path=\"/signup\" component={SignUp} />\r\n    <Route path=\"/forgot-password\" component={ForgotPassword} />\r\n    <Route path=\"/reset-password\" component={ResetPassword} />\r\n\r\n    <Route path=\"/dashboard\" component={Dashboard} isPrivate />\r\n    <Route path=\"/profile\" component={Profile} isPrivate />\r\n  </Switch>\r\n);\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\n\r\nimport { AuthProvider } from './auth';\r\nimport { ToastProvider } from './toast';\r\n\r\nconst AppProvider: React.FC = ({ children }) => (\r\n  <AuthProvider>\r\n    <ToastProvider>{children}</ToastProvider>\r\n  </AuthProvider>\r\n);\r\n\r\nexport default AppProvider;\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport GlobalStyle from './styles/global';\r\n\r\nimport Routes from './routes';\r\n\r\nimport AppProvider from './hooks';\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <AppProvider>\r\n        <Routes />\r\n      </AppProvider>\r\n\r\n      <GlobalStyle />\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.4a478307.svg\";","module.exports = __webpack_public_path__ + \"static/media/background-sign-in.05bd6345.png\";","module.exports = __webpack_public_path__ + \"static/media/background-sign-up.d00be0b2.png\";"],"sourceRoot":""}